var Delaunay;!function(){"use strict";function r(r){var n,e,t,u,i,l,o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(n=r.length;n--;)r[n].x<o&&(o=r[n].x),r[n].x>f&&(f=r[n].x),r[n].y<a&&(a=r[n].y),r[n].y>h&&(h=r[n].y);return e=f-o,t=h-a,u=Math.max(e,t),i=o+.5*e,l=a+.5*t,[{x:i-20*u,y:l-u},{x:i,y:l+20*u},{x:i+20*u,y:l-u}]}function n(r,n,e,u){var i,l,o,a,f,h,s,y,I,x,c=r[n].x,N=r[n].y,p=r[e].x,g=r[e].y,v=r[u].x,E=r[u].y,T=Math.abs(N-g),b=Math.abs(g-E);if(t>T&&t>b)throw new Error("Eek! Coincident points!");return t>T?(a=-((v-p)/(E-g)),h=(p+v)/2,y=(g+E)/2,i=(p+c)/2,l=a*(i-h)+y):t>b?(o=-((p-c)/(g-N)),f=(c+p)/2,s=(N+g)/2,i=(v+p)/2,l=o*(i-f)+s):(o=-((p-c)/(g-N)),a=-((v-p)/(E-g)),f=(c+p)/2,h=(p+v)/2,s=(N+g)/2,y=(g+E)/2,i=(o*f-a*h+y-s)/(o-a),l=T>b?o*(i-f)+s:a*(i-h)+y),I=p-i,x=g-l,{i:n,j:e,k:u,x:i,y:l,r:I*I+x*x}}function e(r){var n,e,t,u,i,l;for(e=r.length;e;)for(u=r[--e],t=r[--e],n=e;n;)if(l=r[--n],i=r[--n],t===i&&u===l||t===l&&u===i){r.splice(e,2),r.splice(n,2);break}}var t=1/1048576;Delaunay={triangulate:function(u){var i,l,o,a,f,h,s,y,I,x,c,N,p=u.length;if(3>p)return[];for(u=u.slice(0),o=new Array(p),i=p;i--;)o[i]=i;for(o.sort(function(r,n){return u[n].x-u[r].x}),a=r(u),u.push(a[0],a[1],a[2]),f=[n(u,p+0,p+1,p+2)],h=[],s=[],i=o.length;i--;s.length=0){for(N=o[i],l=f.length;l--;)y=u[N].x-f[l].x,y>0&&y*y>f[l].r?(h.push(f[l]),f.splice(l,1)):(I=u[N].y-f[l].y,y*y+I*I-f[l].r>t||(s.push(f[l].i,f[l].j,f[l].j,f[l].k,f[l].k,f[l].i),f.splice(l,1)));for(e(s),l=s.length;l;)c=s[--l],x=s[--l],f.push(n(u,x,c,N))}for(i=f.length;i--;)h.push(f[i]);for(f.length=0,i=h.length;i--;)h[i].i<p&&h[i].j<p&&h[i].k<p&&f.push(h[i].i,h[i].j,h[i].k);return f},contains:function(r,n){if(n[0]<r[0][0]&&n[0]<r[1][0]&&n[0]<r[2][0]||n[0]>r[0][0]&&n[0]>r[1][0]&&n[0]>r[2][0]||n[1]<r[0][1]&&n[1]<r[1][1]&&n[1]<r[2][1]||n[1]>r[0][1]&&n[1]>r[1][1]&&n[1]>r[2][1])return null;var e=r[1][0]-r[0][0],t=r[2][0]-r[0][0],u=r[1][1]-r[0][1],i=r[2][1]-r[0][1],l=e*i-t*u;if(0===l)return null;var o=(i*(n[0]-r[0][0])-t*(n[1]-r[0][1]))/l,a=(e*(n[1]-r[0][1])-u*(n[0]-r[0][0]))/l;return 0>o||0>a||o+a>1?null:[o,a]}},"undefined"!=typeof module&&(module.exports=Delaunay)}();